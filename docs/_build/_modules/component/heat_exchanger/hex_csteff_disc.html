<!doctype html>
<html class="no-js" lang="en" data-content_root="../../../">
  <head><meta charset="utf-8">
    <meta name="viewport" content="width=device-width,initial-scale=1">
    <meta name="color-scheme" content="light dark"><link rel="index" title="Index" href="../../../genindex.html"><link rel="search" title="Search" href="../../../search.html">

    <!-- Generated with Sphinx 8.2.3 and Furo 2025.09.25 -->
        <title>component.heat_exchanger.hex_csteff_disc - LaboThApPy Documentation</title>
      <link rel="stylesheet" type="text/css" href="../../../_static/pygments.css?v=d111a655" />
    <link rel="stylesheet" type="text/css" href="../../../_static/styles/furo.css?v=580074bf" />
    <link rel="stylesheet" type="text/css" href="../../../_static/custom.css" />
    <link rel="stylesheet" type="text/css" href="../../../_static/styles/furo-extensions.css?v=8dab3a3b" />
    
    


<style>
  body {
    --color-code-background: #f2f2f2;
  --color-code-foreground: #1e1e1e;
  
  }
  @media not print {
    body[data-theme="dark"] {
      --color-code-background: #202020;
  --color-code-foreground: #d0d0d0;
  
    }
    @media (prefers-color-scheme: dark) {
      body:not([data-theme="light"]) {
        --color-code-background: #202020;
  --color-code-foreground: #d0d0d0;
  
      }
    }
  }
</style></head>
  <body>
    
    <script>
      document.body.dataset.theme = localStorage.getItem("theme") || "auto";
    </script>
    

<svg xmlns="http://www.w3.org/2000/svg" style="display: none;">
  <symbol id="svg-toc" viewBox="0 0 24 24">
    <title>Contents</title>
    <svg stroke="currentColor" fill="currentColor" stroke-width="0" viewBox="0 0 1024 1024">
      <path d="M408 442h480c4.4 0 8-3.6 8-8v-56c0-4.4-3.6-8-8-8H408c-4.4 0-8 3.6-8 8v56c0 4.4 3.6 8 8 8zm-8 204c0 4.4 3.6 8 8 8h480c4.4 0 8-3.6 8-8v-56c0-4.4-3.6-8-8-8H408c-4.4 0-8 3.6-8 8v56zm504-486H120c-4.4 0-8 3.6-8 8v56c0 4.4 3.6 8 8 8h784c4.4 0 8-3.6 8-8v-56c0-4.4-3.6-8-8-8zm0 632H120c-4.4 0-8 3.6-8 8v56c0 4.4 3.6 8 8 8h784c4.4 0 8-3.6 8-8v-56c0-4.4-3.6-8-8-8zM115.4 518.9L271.7 642c5.8 4.6 14.4.5 14.4-6.9V388.9c0-7.4-8.5-11.5-14.4-6.9L115.4 505.1a8.74 8.74 0 0 0 0 13.8z"/>
    </svg>
  </symbol>
  <symbol id="svg-menu" viewBox="0 0 24 24">
    <title>Menu</title>
    <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" fill="none" stroke="currentColor"
      stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="feather-menu">
      <line x1="3" y1="12" x2="21" y2="12"></line>
      <line x1="3" y1="6" x2="21" y2="6"></line>
      <line x1="3" y1="18" x2="21" y2="18"></line>
    </svg>
  </symbol>
  <symbol id="svg-arrow-right" viewBox="0 0 24 24">
    <title>Expand</title>
    <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" fill="none" stroke="currentColor"
      stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="feather-chevron-right">
      <polyline points="9 18 15 12 9 6"></polyline>
    </svg>
  </symbol>
  <symbol id="svg-sun" viewBox="0 0 24 24">
    <title>Light mode</title>
    <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" fill="none" stroke="currentColor"
      stroke-width="1" stroke-linecap="round" stroke-linejoin="round" class="feather-sun">
      <circle cx="12" cy="12" r="5"></circle>
      <line x1="12" y1="1" x2="12" y2="3"></line>
      <line x1="12" y1="21" x2="12" y2="23"></line>
      <line x1="4.22" y1="4.22" x2="5.64" y2="5.64"></line>
      <line x1="18.36" y1="18.36" x2="19.78" y2="19.78"></line>
      <line x1="1" y1="12" x2="3" y2="12"></line>
      <line x1="21" y1="12" x2="23" y2="12"></line>
      <line x1="4.22" y1="19.78" x2="5.64" y2="18.36"></line>
      <line x1="18.36" y1="5.64" x2="19.78" y2="4.22"></line>
    </svg>
  </symbol>
  <symbol id="svg-moon" viewBox="0 0 24 24">
    <title>Dark mode</title>
    <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" fill="none" stroke="currentColor"
      stroke-width="1" stroke-linecap="round" stroke-linejoin="round" class="icon-tabler-moon">
      <path stroke="none" d="M0 0h24v24H0z" fill="none" />
      <path d="M12 3c.132 0 .263 0 .393 0a7.5 7.5 0 0 0 7.92 12.446a9 9 0 1 1 -8.313 -12.454z" />
    </svg>
  </symbol>
  <symbol id="svg-sun-with-moon" viewBox="0 0 24 24">
    <title>Auto light/dark, in light mode</title>
    <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" fill="none" stroke="currentColor"
      stroke-width="1" stroke-linecap="round" stroke-linejoin="round"
      class="icon-custom-derived-from-feather-sun-and-tabler-moon">
      <path style="opacity: 50%" d="M 5.411 14.504 C 5.471 14.504 5.532 14.504 5.591 14.504 C 3.639 16.319 4.383 19.569 6.931 20.352 C 7.693 20.586 8.512 20.551 9.25 20.252 C 8.023 23.207 4.056 23.725 2.11 21.184 C 0.166 18.642 1.702 14.949 4.874 14.536 C 5.051 14.512 5.231 14.5 5.411 14.5 L 5.411 14.504 Z"/>
      <line x1="14.5" y1="3.25" x2="14.5" y2="1.25"/>
      <line x1="14.5" y1="15.85" x2="14.5" y2="17.85"/>
      <line x1="10.044" y1="5.094" x2="8.63" y2="3.68"/>
      <line x1="19" y1="14.05" x2="20.414" y2="15.464"/>
      <line x1="8.2" y1="9.55" x2="6.2" y2="9.55"/>
      <line x1="20.8" y1="9.55" x2="22.8" y2="9.55"/>
      <line x1="10.044" y1="14.006" x2="8.63" y2="15.42"/>
      <line x1="19" y1="5.05" x2="20.414" y2="3.636"/>
      <circle cx="14.5" cy="9.55" r="3.6"/>
    </svg>
  </symbol>
  <symbol id="svg-moon-with-sun" viewBox="0 0 24 24">
    <title>Auto light/dark, in dark mode</title>
    <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" fill="none" stroke="currentColor"
      stroke-width="1" stroke-linecap="round" stroke-linejoin="round"
      class="icon-custom-derived-from-feather-sun-and-tabler-moon">
      <path d="M 8.282 7.007 C 8.385 7.007 8.494 7.007 8.595 7.007 C 5.18 10.184 6.481 15.869 10.942 17.24 C 12.275 17.648 13.706 17.589 15 17.066 C 12.851 22.236 5.91 23.143 2.505 18.696 C -0.897 14.249 1.791 7.786 7.342 7.063 C 7.652 7.021 7.965 7 8.282 7 L 8.282 7.007 Z"/>
      <line style="opacity: 50%" x1="18" y1="3.705" x2="18" y2="2.5"/>
      <line style="opacity: 50%" x1="18" y1="11.295" x2="18" y2="12.5"/>
      <line style="opacity: 50%" x1="15.316" y1="4.816" x2="14.464" y2="3.964"/>
      <line style="opacity: 50%" x1="20.711" y1="10.212" x2="21.563" y2="11.063"/>
      <line style="opacity: 50%" x1="14.205" y1="7.5" x2="13.001" y2="7.5"/>
      <line style="opacity: 50%" x1="21.795" y1="7.5" x2="23" y2="7.5"/>
      <line style="opacity: 50%" x1="15.316" y1="10.184" x2="14.464" y2="11.036"/>
      <line style="opacity: 50%" x1="20.711" y1="4.789" x2="21.563" y2="3.937"/>
      <circle style="opacity: 50%" cx="18" cy="7.5" r="2.169"/>
    </svg>
  </symbol>
  <symbol id="svg-pencil" viewBox="0 0 24 24">
    <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" fill="none" stroke="currentColor"
      stroke-width="1" stroke-linecap="round" stroke-linejoin="round" class="icon-tabler-pencil-code">
      <path d="M4 20h4l10.5 -10.5a2.828 2.828 0 1 0 -4 -4l-10.5 10.5v4" />
      <path d="M13.5 6.5l4 4" />
      <path d="M20 21l2 -2l-2 -2" />
      <path d="M17 17l-2 2l2 2" />
    </svg>
  </symbol>
  <symbol id="svg-eye" viewBox="0 0 24 24">
    <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" fill="none" stroke="currentColor"
      stroke-width="1" stroke-linecap="round" stroke-linejoin="round" class="icon-tabler-eye-code">
      <path stroke="none" d="M0 0h24v24H0z" fill="none" />
      <path d="M10 12a2 2 0 1 0 4 0a2 2 0 0 0 -4 0" />
      <path
        d="M11.11 17.958c-3.209 -.307 -5.91 -2.293 -8.11 -5.958c2.4 -4 5.4 -6 9 -6c3.6 0 6.6 2 9 6c-.21 .352 -.427 .688 -.647 1.008" />
      <path d="M20 21l2 -2l-2 -2" />
      <path d="M17 17l-2 2l2 2" />
    </svg>
  </symbol>
</svg>

<input type="checkbox" class="sidebar-toggle" name="__navigation" id="__navigation" aria-label="Toggle site navigation sidebar">
<input type="checkbox" class="sidebar-toggle" name="__toc" id="__toc" aria-label="Toggle table of contents sidebar">
<label class="overlay sidebar-overlay" for="__navigation"></label>
<label class="overlay toc-overlay" for="__toc"></label>

<a class="skip-to-content muted-link" href="#furo-main-content">Skip to content</a>



<div class="page">
  <header class="mobile-header">
    <div class="header-left">
      <label class="nav-overlay-icon" for="__navigation">
        <span class="icon"><svg><use href="#svg-menu"></use></svg></span>
      </label>
    </div>
    <div class="header-center">
      <a href="../../../index.html"><div class="brand">LaboThApPy Documentation</div></a>
    </div>
    <div class="header-right">
      <div class="theme-toggle-container theme-toggle-header">
        <button class="theme-toggle" aria-label="Toggle Light / Dark / Auto color theme">
          <svg class="theme-icon-when-auto-light"><use href="#svg-sun-with-moon"></use></svg>
          <svg class="theme-icon-when-auto-dark"><use href="#svg-moon-with-sun"></use></svg>
          <svg class="theme-icon-when-dark"><use href="#svg-moon"></use></svg>
          <svg class="theme-icon-when-light"><use href="#svg-sun"></use></svg>
        </button>
      </div>
      <label class="toc-overlay-icon toc-header-icon no-toc" for="__toc">
        <span class="icon"><svg><use href="#svg-toc"></use></svg></span>
      </label>
    </div>
  </header>
  <aside class="sidebar-drawer">
    <div class="sidebar-container">
      
      <div class="sidebar-sticky"><a class="sidebar-brand" href="../../../index.html">
  
  <span class="sidebar-brand-text">LaboThApPy Documentation</span>
  
</a><form class="sidebar-search-container" method="get" action="../../../search.html" role="search">
  <input class="sidebar-search" placeholder="Search" name="q" aria-label="Search">
  <input type="hidden" name="check_keywords" value="yes">
  <input type="hidden" name="area" value="default">
</form>
<div id="searchbox"></div><div class="sidebar-scroll"><div class="sidebar-tree">
  <p class="caption" role="heading"><span class="caption-text">Contents:</span></p>
<ul>
<li class="toctree-l1 has-children"><a class="reference internal" href="../../../user_guide/installation_and_setup.html">Installation and Setup</a><input aria-label="Toggle navigation of Installation and Setup" class="toctree-checkbox" id="toctree-checkbox-1" name="toctree-checkbox-1" role="switch" type="checkbox"/><label for="toctree-checkbox-1"><span class="icon"><svg><use href="#svg-arrow-right"></use></svg></span></label><ul class="simple">
</ul>
</li>
<li class="toctree-l1 has-children"><a class="reference internal" href="../../../documentation/documentation_doc.html">LaboThApPy Documentation</a><input aria-label="Toggle navigation of LaboThApPy Documentation" class="toctree-checkbox" id="toctree-checkbox-2" name="toctree-checkbox-2" role="switch" type="checkbox"/><label for="toctree-checkbox-2"><span class="icon"><svg><use href="#svg-arrow-right"></use></svg></span></label><ul>
<li class="toctree-l2 has-children"><a class="reference internal" href="../../../documentation/connector/connector_doc.html">Connector</a><input aria-label="Toggle navigation of Connector" class="toctree-checkbox" id="toctree-checkbox-3" name="toctree-checkbox-3" role="switch" type="checkbox"/><label for="toctree-checkbox-3"><span class="icon"><svg><use href="#svg-arrow-right"></use></svg></span></label><ul>
<li class="toctree-l3 has-children"><a class="reference internal" href="../../../documentation/connector/mass_connector/mass_connector_doc.html">Mass Connector</a><input aria-label="Toggle navigation of Mass Connector" class="toctree-checkbox" id="toctree-checkbox-4" name="toctree-checkbox-4" role="switch" type="checkbox"/><label for="toctree-checkbox-4"><span class="icon"><svg><use href="#svg-arrow-right"></use></svg></span></label><ul>
<li class="toctree-l4"><a class="reference internal" href="../../../notebooks/mass_connector_demo.html">Example of Mass Connector</a></li>
</ul>
</li>
<li class="toctree-l3"><a class="reference internal" href="../../../documentation/connector/heat_connector/heat_connector_doc.html">Heat Connector</a></li>
<li class="toctree-l3"><a class="reference internal" href="../../../documentation/connector/work_connector/work_connector_doc.html">Work Connector</a></li>
</ul>
</li>
<li class="toctree-l2 has-children"><a class="reference internal" href="../../../documentation/component/component_doc.html">Component</a><input aria-label="Toggle navigation of Component" class="toctree-checkbox" id="toctree-checkbox-5" name="toctree-checkbox-5" role="switch" type="checkbox"/><label for="toctree-checkbox-5"><span class="icon"><svg><use href="#svg-arrow-right"></use></svg></span></label><ul>
<li class="toctree-l3 has-children"><a class="reference internal" href="../../../documentation/component/compressor/compressor_doc.html">Compressor</a><input aria-label="Toggle navigation of Compressor" class="toctree-checkbox" id="toctree-checkbox-6" name="toctree-checkbox-6" role="switch" type="checkbox"/><label for="toctree-checkbox-6"><span class="icon"><svg><use href="#svg-arrow-right"></use></svg></span></label><ul>
<li class="toctree-l4"><a class="reference internal" href="../../../documentation/component/compressor/compressor_models/compressor_csteff.html">Compressor - Constant Isentropic Efficiency Model</a></li>
<li class="toctree-l4"><a class="reference internal" href="../../../documentation/component/compressor/compressor_models/compressor_semi_empirical.html">Compressor - Semi-Empirical Model</a></li>
</ul>
</li>
<li class="toctree-l3 has-children"><a class="reference internal" href="../../../documentation/component/expander/expander_doc.html">Expander</a><input aria-label="Toggle navigation of Expander" class="toctree-checkbox" id="toctree-checkbox-7" name="toctree-checkbox-7" role="switch" type="checkbox"/><label for="toctree-checkbox-7"><span class="icon"><svg><use href="#svg-arrow-right"></use></svg></span></label><ul>
<li class="toctree-l4"><a class="reference internal" href="../../../documentation/component/expander/expander_models/expander_csteff.html">Expander - Constant Isentropic Efficiency Model</a></li>
<li class="toctree-l4"><a class="reference internal" href="../../../documentation/component/expander/expander_models/expander_semi_empirical.html">Expander - Semi-Empirical Model</a></li>
<li class="toctree-l4"><a class="reference internal" href="../../../documentation/component/expander/expander_models/turbine_polyneff.html">Turbine - Polynomial Efficiency Model</a></li>
</ul>
</li>
<li class="toctree-l3"><a class="reference internal" href="../../../documentation/component/ha_heat_exchanger/ha_heat_exchanger_doc.html">Humid Air Heat Exchanger</a></li>
<li class="toctree-l3 has-children"><a class="reference internal" href="../../../documentation/component/heat_exchanger/heat_exchanger_doc.html">Heat Exchanger</a><input aria-label="Toggle navigation of Heat Exchanger" class="toctree-checkbox" id="toctree-checkbox-8" name="toctree-checkbox-8" role="switch" type="checkbox"/><label for="toctree-checkbox-8"><span class="icon"><svg><use href="#svg-arrow-right"></use></svg></span></label><ul>
<li class="toctree-l4"><a class="reference internal" href="../../../documentation/component/heat_exchanger/heat_exchanger_models/hex_crossflowfintube_finitevolume.html">Crossflow Fin and Tube Heat Exchanger - Finite Volume Model</a></li>
<li class="toctree-l4"><a class="reference internal" href="../../../documentation/component/heat_exchanger/heat_exchanger_models/hex_csteff.html">Heat Exchanger - Constant Efficiency Model</a></li>
<li class="toctree-l4"><a class="reference internal" href="../../../documentation/component/heat_exchanger/heat_exchanger_models/hex_cstpinch.html">Heat Exchanger - Constant Pinch Model</a></li>
<li class="toctree-l4"><a class="reference internal" href="../../../documentation/component/heat_exchanger/heat_exchanger_models/hex_MB_charge_sensitive.html">Heat Exchanger - Moving Boundary Charge Sensitive Model</a></li>
<li class="toctree-l4"><a class="reference internal" href="../../../documentation/component/heat_exchanger/heat_exchanger_models/hex_csteff_disc.html">Heat Exchanger - Discretized Constant Efficiency Model</a></li>
<li class="toctree-l4"><a class="reference internal" href="../../../documentation/component/heat_exchanger/heat_exchanger_models/hex_eNTU.html">Heat Exchanger - Epsilon NTU Model</a></li>
</ul>
</li>
<li class="toctree-l3 has-children"><a class="reference internal" href="../../../documentation/component/pump/pump_doc.html">Pump</a><input aria-label="Toggle navigation of Pump" class="toctree-checkbox" id="toctree-checkbox-9" name="toctree-checkbox-9" role="switch" type="checkbox"/><label for="toctree-checkbox-9"><span class="icon"><svg><use href="#svg-arrow-right"></use></svg></span></label><ul>
<li class="toctree-l4"><a class="reference internal" href="../../../documentation/component/pump/pump_models/pump_csteff.html">Pump - Constant Isentropic Efficiency Model</a></li>
</ul>
</li>
<li class="toctree-l3 has-children"><a class="reference internal" href="../../../documentation/component/solar/solar_doc.html">Solar</a><input aria-label="Toggle navigation of Solar" class="toctree-checkbox" id="toctree-checkbox-10" name="toctree-checkbox-10" role="switch" type="checkbox"/><label for="toctree-checkbox-10"><span class="icon"><svg><use href="#svg-arrow-right"></use></svg></span></label><ul>
<li class="toctree-l4"><a class="reference internal" href="../../../documentation/component/solar/solar_models/parabolic_trough_collector.html">Solar - Parabolic Trough Collector</a></li>
</ul>
</li>
<li class="toctree-l3 has-children"><a class="reference internal" href="../../../documentation/component/tank/tank_doc.html">Tank</a><input aria-label="Toggle navigation of Tank" class="toctree-checkbox" id="toctree-checkbox-11" name="toctree-checkbox-11" role="switch" type="checkbox"/><label for="toctree-checkbox-11"><span class="icon"><svg><use href="#svg-arrow-right"></use></svg></span></label><ul>
<li class="toctree-l4"><a class="reference internal" href="../../../documentation/component/tank/tank_models/tank_LV_separator.html">Tank - Separator Liquid-Vapor</a></li>
<li class="toctree-l4"><a class="reference internal" href="../../../documentation/component/tank/tank_models/tank_mixer.html">Tank - Mixer</a></li>
<li class="toctree-l4"><a class="reference internal" href="../../../documentation/component/tank/tank_models/tank_splitter.html">Tank - Spliter</a></li>
</ul>
</li>
<li class="toctree-l3 has-children"><a class="reference internal" href="../../../documentation/component/valve/valve_doc.html">Valve</a><input aria-label="Toggle navigation of Valve" class="toctree-checkbox" id="toctree-checkbox-12" name="toctree-checkbox-12" role="switch" type="checkbox"/><label for="toctree-checkbox-12"><span class="icon"><svg><use href="#svg-arrow-right"></use></svg></span></label><ul>
<li class="toctree-l4"><a class="reference internal" href="../../../documentation/component/valve/valve_models/valve_isenthalpic.html">Valve - Isenthalpic Model</a></li>
</ul>
</li>
<li class="toctree-l3"><a class="reference internal" href="../../../notebooks/compressor_model_example.html">Compressor Model Example</a></li>
</ul>
</li>
</ul>
</li>
</ul>

</div>
</div>

      </div>
      
    </div>
  </aside>
  <div class="main">
    <div class="content">
      <div class="article-container">
        <a href="#" class="back-to-top muted-link">
          <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24">
            <path d="M13 20h-2V8l-5.5 5.5-1.42-1.42L12 4.16l7.92 7.92-1.42 1.42L13 8v12z"></path>
          </svg>
          <span>Back to top</span>
        </a>
        <div class="content-icon-container">
          <div class="theme-toggle-container theme-toggle-content">
            <button class="theme-toggle" aria-label="Toggle Light / Dark / Auto color theme">
              <svg class="theme-icon-when-auto-light"><use href="#svg-sun-with-moon"></use></svg>
              <svg class="theme-icon-when-auto-dark"><use href="#svg-moon-with-sun"></use></svg>
              <svg class="theme-icon-when-dark"><use href="#svg-moon"></use></svg>
              <svg class="theme-icon-when-light"><use href="#svg-sun"></use></svg>
            </button>
          </div>
          <label class="toc-overlay-icon toc-content-icon no-toc" for="__toc">
            <span class="icon"><svg><use href="#svg-toc"></use></svg></span>
          </label>
        </div>
        <article role="main" id="furo-main-content">
          <h1>Source code for component.heat_exchanger.hex_csteff_disc</h1><div class="highlight"><pre>
<span></span>
<span class="kn">from</span><span class="w"> </span><span class="nn">connector.mass_connector</span><span class="w"> </span><span class="kn">import</span> <span class="n">MassConnector</span>
<span class="kn">from</span><span class="w"> </span><span class="nn">connector.heat_connector</span><span class="w"> </span><span class="kn">import</span> <span class="n">HeatConnector</span>

<span class="kn">from</span><span class="w"> </span><span class="nn">component.base_component</span><span class="w"> </span><span class="kn">import</span> <span class="n">BaseComponent</span>

<span class="c1"># from component.heat_exchanger.moving_boundary.simple_model.modules.U import U_Gnielinski_calibrated, U_DittusBoelter, U_Cooper_calibrater, U_Thonon</span>

<span class="kn">from</span><span class="w"> </span><span class="nn">CoolProp.CoolProp</span><span class="w"> </span><span class="kn">import</span> <span class="n">PropsSI</span>
<span class="kn">from</span><span class="w"> </span><span class="nn">scipy.optimize</span><span class="w"> </span><span class="kn">import</span> <span class="n">fsolve</span>

<span class="kn">import</span><span class="w"> </span><span class="nn">CoolProp.CoolProp</span><span class="w"> </span><span class="k">as</span><span class="w"> </span><span class="nn">CP</span>
<span class="kn">import</span><span class="w"> </span><span class="nn">numpy</span><span class="w"> </span><span class="k">as</span><span class="w"> </span><span class="nn">np</span>
<span class="kn">import</span><span class="w"> </span><span class="nn">math</span>

<div class="viewcode-block" id="HexCstEffDisc">
<a class="viewcode-back" href="../../../documentation/component/heat_exchanger/heat_exchanger_models/hex_csteff_disc.html#component.heat_exchanger.hex_csteff_disc.HexCstEffDisc">[docs]</a>
<span class="k">class</span><span class="w"> </span><span class="nc">HexCstEffDisc</span><span class="p">(</span><span class="n">BaseComponent</span><span class="p">):</span>
<span class="w">    </span><span class="sd">&quot;&quot;&quot;</span>
<span class="sd">    Component: Counterflow Heat Exchanger with Constant Effectiveness (HXEffCstDisc)</span>
<span class="sd">    </span>
<span class="sd">    Model: Discretized Counterflow Heat Exchanger with Fixed Effectiveness and Pinch Check</span>
<span class="sd">    </span>
<span class="sd">    **Description**:</span>
<span class="sd">    </span>
<span class="sd">        This model simulates a counterflow heat exchanger with constant effectiveness, discretized into segments along the flow direction. The model uses energy balances and basic thermodynamics (via CoolProp) to determine outlet conditions for both hot and cold streams. It iteratively adjusts the effectiveness to satisfy a minimum pinch point temperature difference (Pinch_min). The model is suitable for on-design, steady-state simulations of heat exchangers where detailed flow dynamics are simplified.</span>
<span class="sd">    </span>
<span class="sd">    **Assumptions**:</span>
<span class="sd">    </span>
<span class="sd">        - Steady-state operation.</span>
<span class="sd">        - Constant effectiveness per iteration, adjusted to meet Pinch_min.</span>
<span class="sd">        - Uniform discretization of the heat exchanger along its length.</span>
<span class="sd">        - Uniform mass flow rates at inlets and outlets.</span>
<span class="sd">        - Fluid properties are obtained via CoolProp.</span>
<span class="sd">    </span>
<span class="sd">    **Connectors**:</span>
<span class="sd">    </span>
<span class="sd">        su_C (MassConnector): Mass connector for the cold-side supply.</span>
<span class="sd">        su_H (MassConnector): Mass connector for the hot-side supply.</span>
<span class="sd">        ex_C (MassConnector): Mass connector for the cold-side exhaust.</span>
<span class="sd">        ex_H (MassConnector): Mass connector for the hot-side exhaust.</span>
<span class="sd">        Q_dot (HeatConnector): Heat transfer connector for the total exchanged heat.</span>
<span class="sd">    </span>
<span class="sd">    **Parameters**:</span>
<span class="sd">    </span>
<span class="sd">        eta (float): Initial effectiveness of the heat exchanger [-].</span>
<span class="sd">        </span>
<span class="sd">        n_disc (int): Number of discretization segments along the exchanger length.</span>
<span class="sd">        </span>
<span class="sd">        Pinch_min (float): Minimum allowable pinch temperature difference [K].</span>
<span class="sd">    </span>
<span class="sd">    **Inputs**:</span>
<span class="sd">    </span>
<span class="sd">        fluid_H (str): Hot-side fluid.</span>
<span class="sd">        </span>
<span class="sd">        h_su_H (float): Hot-side inlet specific enthalpy [J/kg].</span>
<span class="sd">        </span>
<span class="sd">        P_su_H (float): Hot-side inlet pressure [Pa].</span>
<span class="sd">        </span>
<span class="sd">        m_dot_H (float): Hot-side mass flow rate [kg/s].</span>
<span class="sd">    </span>
<span class="sd">        fluid_C (str): Cold-side fluid.</span>
<span class="sd">        </span>
<span class="sd">        h_su_C (float): Cold-side inlet specific enthalpy [J/kg].</span>
<span class="sd">        </span>
<span class="sd">        P_su_C (float): Cold-side inlet pressure [Pa].</span>
<span class="sd">        </span>
<span class="sd">        m_dot_C (float): Cold-side mass flow rate [kg/s].</span>
<span class="sd">    </span>
<span class="sd">    **Outputs**:</span>
<span class="sd">    </span>
<span class="sd">        h_ex_C: Cold-Side Exhaust specific enthalpy at outlet [J/kg].</span>
<span class="sd">        </span>
<span class="sd">        P_ex_C: Cold-Side Exhaust pressure at outlet [Pa].</span>
<span class="sd">                    </span>
<span class="sd">        h_ex_H: Hot-Side specific enthalpy at outlet [J/kg].</span>
<span class="sd">        </span>
<span class="sd">        P_ex_H: Hot-Side pressure at outlet [Pa].</span>
<span class="sd">        </span>
<span class="sd">        Q_dot: Total heat transfer rate across the exchanger [W].</span>
<span class="sd">        </span>
<span class="sd">        DT_pinch: Minimum temperature difference between hot and cold streams across all segments [K].</span>
<span class="sd">        </span>
<span class="sd">        h_hot, h_cold: Arrays of enthalpies across discretization points [J/kg].</span>
<span class="sd">        T_hot, T_cold: Arrays of temperatures across discretization points [K].</span>
<span class="sd">    </span>
<span class="sd">    &quot;&quot;&quot;</span>
    
    <span class="k">def</span><span class="w"> </span><span class="fm">__init__</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
        <span class="nb">super</span><span class="p">()</span><span class="o">.</span><span class="fm">__init__</span><span class="p">()</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">su_C</span> <span class="o">=</span> <span class="n">MassConnector</span><span class="p">()</span> <span class="c1"># Working fluid supply</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">su_H</span> <span class="o">=</span> <span class="n">MassConnector</span><span class="p">()</span> <span class="c1"># Secondary fluid supply</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">ex_C</span> <span class="o">=</span> <span class="n">MassConnector</span><span class="p">()</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">ex_H</span> <span class="o">=</span> <span class="n">MassConnector</span><span class="p">()</span>

        <span class="bp">self</span><span class="o">.</span><span class="n">Q_dot</span> <span class="o">=</span> <span class="n">HeatConnector</span><span class="p">()</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">guesses</span> <span class="o">=</span> <span class="p">{}</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">DT_pinch</span> <span class="o">=</span> <span class="o">-</span><span class="mi">2</span>
        
        <span class="bp">self</span><span class="o">.</span><span class="n">DP_h</span> <span class="o">=</span> <span class="mi">0</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">DP_c</span> <span class="o">=</span> <span class="mi">0</span>
        
        <span class="bp">self</span><span class="o">.</span><span class="n">h_hot</span> <span class="o">=</span> <span class="kc">None</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">h_cold</span> <span class="o">=</span> <span class="kc">None</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">T_hot</span> <span class="o">=</span> <span class="kc">None</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">T_cold</span> <span class="o">=</span> <span class="kc">None</span>

        <span class="bp">self</span><span class="o">.</span><span class="n">eta_pinch</span> <span class="o">=</span> <span class="mi">1</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">effectiveness</span> <span class="o">=</span> <span class="mi">1</span>

    <span class="k">def</span><span class="w"> </span><span class="nf">get_required_inputs</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span> <span class="c1"># Used in check_calculablle to see if all of the required inputs are set</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">sync_inputs</span><span class="p">()</span>
        <span class="c1"># Return a list of required inputs</span>
        <span class="k">return</span><span class="p">[</span><span class="s1">&#39;P_su_H&#39;</span><span class="p">,</span> <span class="s1">&#39;T_su_H&#39;</span><span class="p">,</span> <span class="s1">&#39;m_dot_H&#39;</span><span class="p">,</span> <span class="s1">&#39;fluid_H&#39;</span><span class="p">,</span> <span class="s1">&#39;P_su_C&#39;</span><span class="p">,</span> <span class="s1">&#39;T_su_C&#39;</span><span class="p">,</span> <span class="s1">&#39;m_dot_C&#39;</span><span class="p">,</span> <span class="s1">&#39;fluid_C&#39;</span><span class="p">]</span>
    
    <span class="k">def</span><span class="w"> </span><span class="nf">get_required_parameters</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
        <span class="k">return</span> <span class="p">[</span>
            <span class="s1">&#39;eta_max&#39;</span><span class="p">,</span> <span class="s1">&#39;n_disc&#39;</span><span class="p">,</span> <span class="s1">&#39;Pinch_min&#39;</span> <span class="c1"># Efficiency</span>
        <span class="p">]</span>
    
    <span class="k">def</span><span class="w"> </span><span class="nf">print_setup</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
        <span class="nb">print</span><span class="p">(</span><span class="s2">&quot;=== Heat Exchanger Setup ===&quot;</span><span class="p">)</span>
        <span class="nb">print</span><span class="p">(</span><span class="s2">&quot;Connectors:&quot;</span><span class="p">)</span>
        <span class="nb">print</span><span class="p">(</span><span class="sa">f</span><span class="s2">&quot;  - su_C: fluid=</span><span class="si">{</span><span class="bp">self</span><span class="o">.</span><span class="n">su_C</span><span class="o">.</span><span class="n">fluid</span><span class="si">}</span><span class="s2">, T=</span><span class="si">{</span><span class="bp">self</span><span class="o">.</span><span class="n">su_C</span><span class="o">.</span><span class="n">T</span><span class="si">}</span><span class="s2">, p=</span><span class="si">{</span><span class="bp">self</span><span class="o">.</span><span class="n">su_C</span><span class="o">.</span><span class="n">p</span><span class="si">}</span><span class="s2">, m_dot=</span><span class="si">{</span><span class="bp">self</span><span class="o">.</span><span class="n">su_C</span><span class="o">.</span><span class="n">m_dot</span><span class="si">}</span><span class="s2">&quot;</span><span class="p">)</span>
        <span class="nb">print</span><span class="p">(</span><span class="sa">f</span><span class="s2">&quot;  - su_H: fluid=</span><span class="si">{</span><span class="bp">self</span><span class="o">.</span><span class="n">su_H</span><span class="o">.</span><span class="n">fluid</span><span class="si">}</span><span class="s2">, T=</span><span class="si">{</span><span class="bp">self</span><span class="o">.</span><span class="n">su_H</span><span class="o">.</span><span class="n">T</span><span class="si">}</span><span class="s2">, p=</span><span class="si">{</span><span class="bp">self</span><span class="o">.</span><span class="n">su_H</span><span class="o">.</span><span class="n">p</span><span class="si">}</span><span class="s2">, m_dot=</span><span class="si">{</span><span class="bp">self</span><span class="o">.</span><span class="n">su_H</span><span class="o">.</span><span class="n">m_dot</span><span class="si">}</span><span class="s2">&quot;</span><span class="p">)</span>
        <span class="nb">print</span><span class="p">(</span><span class="sa">f</span><span class="s2">&quot;  - ex_C: fluid=</span><span class="si">{</span><span class="bp">self</span><span class="o">.</span><span class="n">ex_C</span><span class="o">.</span><span class="n">fluid</span><span class="si">}</span><span class="s2">, T=</span><span class="si">{</span><span class="bp">self</span><span class="o">.</span><span class="n">ex_C</span><span class="o">.</span><span class="n">T</span><span class="si">}</span><span class="s2">, p=</span><span class="si">{</span><span class="bp">self</span><span class="o">.</span><span class="n">ex_C</span><span class="o">.</span><span class="n">p</span><span class="si">}</span><span class="s2">, m_dot=</span><span class="si">{</span><span class="bp">self</span><span class="o">.</span><span class="n">ex_C</span><span class="o">.</span><span class="n">m_dot</span><span class="si">}</span><span class="s2">&quot;</span><span class="p">)</span>
        <span class="nb">print</span><span class="p">(</span><span class="sa">f</span><span class="s2">&quot;  - ex_H: fluid=</span><span class="si">{</span><span class="bp">self</span><span class="o">.</span><span class="n">ex_H</span><span class="o">.</span><span class="n">fluid</span><span class="si">}</span><span class="s2">, T=</span><span class="si">{</span><span class="bp">self</span><span class="o">.</span><span class="n">ex_H</span><span class="o">.</span><span class="n">T</span><span class="si">}</span><span class="s2">, p=</span><span class="si">{</span><span class="bp">self</span><span class="o">.</span><span class="n">ex_H</span><span class="o">.</span><span class="n">p</span><span class="si">}</span><span class="s2">, m_dot=</span><span class="si">{</span><span class="bp">self</span><span class="o">.</span><span class="n">ex_H</span><span class="o">.</span><span class="n">m_dot</span><span class="si">}</span><span class="s2">&quot;</span><span class="p">)</span>
        <span class="nb">print</span><span class="p">(</span><span class="sa">f</span><span class="s2">&quot;  - Q_dot: </span><span class="si">{</span><span class="bp">self</span><span class="o">.</span><span class="n">Q_dot</span><span class="o">.</span><span class="n">Q_dot</span><span class="si">}</span><span class="s2">&quot;</span><span class="p">)</span>

        <span class="nb">print</span><span class="p">(</span><span class="s2">&quot;</span><span class="se">\n</span><span class="s2">Inputs:&quot;</span><span class="p">)</span>
        <span class="k">for</span> <span class="nb">input</span> <span class="ow">in</span> <span class="bp">self</span><span class="o">.</span><span class="n">get_required_inputs</span><span class="p">():</span>
            <span class="k">if</span> <span class="nb">input</span> <span class="ow">in</span> <span class="bp">self</span><span class="o">.</span><span class="n">inputs</span><span class="p">:</span>
                <span class="nb">print</span><span class="p">(</span><span class="sa">f</span><span class="s2">&quot;  - </span><span class="si">{</span><span class="nb">input</span><span class="si">}</span><span class="s2">: </span><span class="si">{</span><span class="bp">self</span><span class="o">.</span><span class="n">inputs</span><span class="p">[</span><span class="nb">input</span><span class="p">]</span><span class="si">}</span><span class="s2">&quot;</span><span class="p">)</span>
            <span class="k">else</span><span class="p">:</span>
                <span class="nb">print</span><span class="p">(</span><span class="sa">f</span><span class="s2">&quot;  - </span><span class="si">{</span><span class="nb">input</span><span class="si">}</span><span class="s2">: Not set&quot;</span><span class="p">)</span>

        <span class="nb">print</span><span class="p">(</span><span class="s2">&quot;</span><span class="se">\n</span><span class="s2">Parameters:&quot;</span><span class="p">)</span>
        <span class="k">for</span> <span class="n">param</span> <span class="ow">in</span> <span class="bp">self</span><span class="o">.</span><span class="n">get_required_parameters</span><span class="p">():</span>
            <span class="k">if</span> <span class="n">param</span> <span class="ow">in</span> <span class="bp">self</span><span class="o">.</span><span class="n">params</span><span class="p">:</span>
                <span class="nb">print</span><span class="p">(</span><span class="sa">f</span><span class="s2">&quot;  - </span><span class="si">{</span><span class="n">param</span><span class="si">}</span><span class="s2">: </span><span class="si">{</span><span class="bp">self</span><span class="o">.</span><span class="n">params</span><span class="p">[</span><span class="n">param</span><span class="p">]</span><span class="si">}</span><span class="s2">&quot;</span><span class="p">)</span>
            <span class="k">else</span><span class="p">:</span>
                <span class="nb">print</span><span class="p">(</span><span class="sa">f</span><span class="s2">&quot;  - </span><span class="si">{</span><span class="n">param</span><span class="si">}</span><span class="s2">: Not set&quot;</span><span class="p">)</span>

        <span class="nb">print</span><span class="p">(</span><span class="s2">&quot;======================&quot;</span><span class="p">)</span>    

    <span class="k">def</span><span class="w"> </span><span class="nf">pinch_residual</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">eta</span><span class="p">):</span>
<span class="w">        </span><span class="sd">&quot;&quot;&quot;Return DT_pinch(eta) so we can root-find or bisect on it.&quot;&quot;&quot;</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">counterflow_discretized</span><span class="p">(</span><span class="n">eta</span><span class="p">)</span>
        <span class="c1"># we want DT_pinch = target (e.g. 0 or Pinch_min)</span>
        <span class="k">return</span> <span class="bp">self</span><span class="o">.</span><span class="n">DT_pinch</span>

    <span class="k">def</span><span class="w"> </span><span class="nf">find_Q_dot_max</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
        <span class="c1"># --- External enthalpy-based Q_dot_max ---</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">AS_H</span><span class="o">.</span><span class="n">update</span><span class="p">(</span><span class="n">CP</span><span class="o">.</span><span class="n">PT_INPUTS</span><span class="p">,</span> <span class="bp">self</span><span class="o">.</span><span class="n">su_H</span><span class="o">.</span><span class="n">p</span><span class="p">,</span> <span class="bp">self</span><span class="o">.</span><span class="n">su_C</span><span class="o">.</span><span class="n">T</span><span class="p">)</span>
        <span class="n">H_h_id</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">AS_H</span><span class="o">.</span><span class="n">hmass</span><span class="p">()</span>
        
        <span class="bp">self</span><span class="o">.</span><span class="n">AS_C</span><span class="o">.</span><span class="n">update</span><span class="p">(</span><span class="n">CP</span><span class="o">.</span><span class="n">PT_INPUTS</span><span class="p">,</span> <span class="bp">self</span><span class="o">.</span><span class="n">su_C</span><span class="o">.</span><span class="n">p</span><span class="p">,</span> <span class="bp">self</span><span class="o">.</span><span class="n">su_H</span><span class="o">.</span><span class="n">T</span><span class="p">)</span>
        <span class="n">H_c_id</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">AS_C</span><span class="o">.</span><span class="n">hmass</span><span class="p">()</span>
        
        <span class="n">Q_dot_maxh</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">su_H</span><span class="o">.</span><span class="n">m_dot</span> <span class="o">*</span> <span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">su_H</span><span class="o">.</span><span class="n">h</span> <span class="o">-</span> <span class="n">H_h_id</span><span class="p">)</span>
        <span class="n">Q_dot_maxc</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">su_C</span><span class="o">.</span><span class="n">m_dot</span> <span class="o">*</span> <span class="p">(</span><span class="n">H_c_id</span> <span class="o">-</span> <span class="bp">self</span><span class="o">.</span><span class="n">su_C</span><span class="o">.</span><span class="n">h</span><span class="p">)</span>
        
        <span class="bp">self</span><span class="o">.</span><span class="n">Q_dot_max_ext</span> <span class="o">=</span> <span class="n">np</span><span class="o">.</span><span class="n">min</span><span class="p">([</span><span class="n">Q_dot_maxh</span><span class="p">,</span> <span class="n">Q_dot_maxc</span><span class="p">])</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">Q_dot_max</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">Q_dot_max_ext</span>
        
        <span class="c1"># Quick check: if at eta=1 the pinch is already &gt; 0,</span>
        <span class="c1"># then internal limit = external limit and we can skip search.</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">pinch_residual</span><span class="p">(</span><span class="mf">1.0</span><span class="p">)</span>
        <span class="k">if</span> <span class="bp">self</span><span class="o">.</span><span class="n">DT_pinch</span> <span class="o">&gt;</span> <span class="mf">1e-3</span><span class="p">:</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">eta_pinch</span> <span class="o">=</span> <span class="mf">1.0</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">Q_dot_max_int</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">Q</span>  <span class="c1"># at eta=1</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">Q_dot_max</span> <span class="o">=</span> <span class="nb">min</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">Q_dot_max_ext</span><span class="p">,</span> <span class="bp">self</span><span class="o">.</span><span class="n">Q_dot_max_int</span><span class="p">)</span>
            <span class="k">return</span>
    
        <span class="c1"># Otherwise, find eta_pinch where DT_pinch ~ 0 using bisection</span>
        <span class="n">eta_low</span><span class="p">,</span> <span class="n">eta_high</span> <span class="o">=</span> <span class="mf">0.0</span><span class="p">,</span> <span class="mf">1.0</span>
        <span class="n">tol_int</span> <span class="o">=</span> <span class="mf">1e-3</span>
        <span class="n">max_it</span> <span class="o">=</span> <span class="mi">30</span>
    
        <span class="k">for</span> <span class="n">_</span> <span class="ow">in</span> <span class="nb">range</span><span class="p">(</span><span class="n">max_it</span><span class="p">):</span>
            <span class="n">eta_mid</span> <span class="o">=</span> <span class="mf">0.5</span><span class="o">*</span><span class="p">(</span><span class="n">eta_low</span> <span class="o">+</span> <span class="n">eta_high</span><span class="p">)</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">pinch_residual</span><span class="p">(</span><span class="n">eta_mid</span><span class="p">)</span>
    
            <span class="k">if</span> <span class="bp">self</span><span class="o">.</span><span class="n">DT_pinch</span> <span class="o">&gt;</span> <span class="n">tol_int</span><span class="p">:</span>
                <span class="c1"># pinch OK → can increase eta</span>
                <span class="n">eta_low</span> <span class="o">=</span> <span class="n">eta_mid</span>
            <span class="k">else</span><span class="p">:</span>
                <span class="c1"># pinch too small → decrease eta</span>
                <span class="n">eta_high</span> <span class="o">=</span> <span class="n">eta_mid</span>
    
            <span class="k">if</span> <span class="nb">abs</span><span class="p">(</span><span class="n">eta_high</span> <span class="o">-</span> <span class="n">eta_low</span><span class="p">)</span> <span class="o">&lt;</span> <span class="mf">1e-3</span><span class="p">:</span>
                <span class="k">break</span>
    
        <span class="bp">self</span><span class="o">.</span><span class="n">eta_pinch</span> <span class="o">=</span> <span class="n">eta_low</span>
        <span class="c1"># one last evaluation at eta_pinch for consistency</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">pinch_residual</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">eta_pinch</span><span class="p">)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">Q_dot_max_int</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">Q</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">Q_dot_max</span> <span class="o">=</span> <span class="nb">min</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">Q_dot_max_ext</span><span class="p">,</span> <span class="bp">self</span><span class="o">.</span><span class="n">Q_dot_max_int</span><span class="p">)</span>
        
        <span class="k">return</span>

    <span class="k">def</span><span class="w"> </span><span class="nf">counterflow_discretized</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">eta</span><span class="p">):</span>
                
        <span class="s2">&quot;Heat Transfer Rate&quot;</span>
        <span class="n">n</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">params</span><span class="p">[</span><span class="s1">&#39;n_disc&#39;</span><span class="p">]</span>
        
        <span class="bp">self</span><span class="o">.</span><span class="n">Q</span> <span class="o">=</span> <span class="n">eta</span><span class="o">*</span><span class="bp">self</span><span class="o">.</span><span class="n">Q_dot_max</span>
        <span class="n">Q_dot_seg</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">Q</span> <span class="o">/</span> <span class="n">n</span>
        
        <span class="c1"># Set inlet enthalpies</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">h_hot</span><span class="p">[</span><span class="mi">0</span><span class="p">]</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">su_H</span><span class="o">.</span><span class="n">h</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">T_hot</span><span class="p">[</span><span class="mi">0</span><span class="p">]</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">su_H</span><span class="o">.</span><span class="n">T</span>
        
        <span class="n">h_cold_out</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">su_C</span><span class="o">.</span><span class="n">h</span> <span class="o">+</span> <span class="bp">self</span><span class="o">.</span><span class="n">Q</span><span class="o">/</span><span class="bp">self</span><span class="o">.</span><span class="n">su_C</span><span class="o">.</span><span class="n">m_dot</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">h_cold</span><span class="p">[</span><span class="mi">0</span><span class="p">]</span> <span class="o">=</span> <span class="n">h_cold_out</span>
        
        <span class="bp">self</span><span class="o">.</span><span class="n">AS_C</span><span class="o">.</span><span class="n">update</span><span class="p">(</span><span class="n">CP</span><span class="o">.</span><span class="n">HmassP_INPUTS</span><span class="p">,</span> <span class="n">h_cold_out</span><span class="p">,</span> <span class="bp">self</span><span class="o">.</span><span class="n">su_C</span><span class="o">.</span><span class="n">p</span><span class="p">)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">T_cold</span><span class="p">[</span><span class="mi">0</span><span class="p">]</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">AS_C</span><span class="o">.</span><span class="n">T</span><span class="p">()</span>
                
        <span class="k">for</span> <span class="n">i</span> <span class="ow">in</span> <span class="nb">range</span><span class="p">(</span><span class="n">n</span><span class="p">):</span>
            <span class="c1"># Hot side: forward direction</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">h_hot</span><span class="p">[</span><span class="n">i</span><span class="o">+</span><span class="mi">1</span><span class="p">]</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">h_hot</span><span class="p">[</span><span class="n">i</span><span class="p">]</span> <span class="o">-</span> <span class="n">Q_dot_seg</span> <span class="o">/</span> <span class="bp">self</span><span class="o">.</span><span class="n">su_H</span><span class="o">.</span><span class="n">m_dot</span>
            
            <span class="bp">self</span><span class="o">.</span><span class="n">AS_H</span><span class="o">.</span><span class="n">update</span><span class="p">(</span><span class="n">CP</span><span class="o">.</span><span class="n">HmassP_INPUTS</span><span class="p">,</span> <span class="bp">self</span><span class="o">.</span><span class="n">h_hot</span><span class="p">[</span><span class="n">i</span><span class="o">+</span><span class="mi">1</span><span class="p">],</span> <span class="bp">self</span><span class="o">.</span><span class="n">p_hot</span><span class="p">[</span><span class="n">i</span><span class="o">+</span><span class="mi">1</span><span class="p">])</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">T_hot</span><span class="p">[</span><span class="n">i</span><span class="o">+</span><span class="mi">1</span><span class="p">]</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">AS_H</span><span class="o">.</span><span class="n">T</span><span class="p">()</span>
                        
            <span class="c1"># Cold side: reverse direction</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">h_cold</span><span class="p">[</span><span class="n">i</span><span class="o">+</span><span class="mi">1</span><span class="p">]</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">h_cold</span><span class="p">[</span><span class="n">i</span><span class="p">]</span> <span class="o">-</span> <span class="n">Q_dot_seg</span> <span class="o">/</span> <span class="bp">self</span><span class="o">.</span><span class="n">su_C</span><span class="o">.</span><span class="n">m_dot</span>
            
            <span class="bp">self</span><span class="o">.</span><span class="n">AS_C</span><span class="o">.</span><span class="n">update</span><span class="p">(</span><span class="n">CP</span><span class="o">.</span><span class="n">HmassP_INPUTS</span><span class="p">,</span> <span class="bp">self</span><span class="o">.</span><span class="n">h_cold</span><span class="p">[</span><span class="n">i</span><span class="o">+</span><span class="mi">1</span><span class="p">],</span> <span class="bp">self</span><span class="o">.</span><span class="n">p_cold</span><span class="p">[</span><span class="n">i</span><span class="o">+</span><span class="mi">1</span><span class="p">])</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">T_cold</span><span class="p">[</span><span class="n">i</span><span class="o">+</span><span class="mi">1</span><span class="p">]</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">AS_C</span><span class="o">.</span><span class="n">T</span><span class="p">()</span>
                    
        <span class="bp">self</span><span class="o">.</span><span class="n">DT_pinch</span> <span class="o">=</span> <span class="n">np</span><span class="o">.</span><span class="n">min</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">T_hot</span> <span class="o">-</span> <span class="bp">self</span><span class="o">.</span><span class="n">T_cold</span><span class="p">)</span>
        
        <span class="k">return</span> 

    <span class="k">def</span><span class="w"> </span><span class="nf">solve</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
        <span class="c1"># Ensure all required checks are performed</span>

        <span class="k">if</span> <span class="bp">self</span><span class="o">.</span><span class="n">su_H</span><span class="o">.</span><span class="n">m_dot</span> <span class="ow">is</span> <span class="kc">None</span><span class="p">:</span> 
            <span class="bp">self</span><span class="o">.</span><span class="n">su_H</span><span class="o">.</span><span class="n">m_dot</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">su_C</span><span class="o">.</span><span class="n">m_dot</span>
        
        <span class="k">if</span> <span class="bp">self</span><span class="o">.</span><span class="n">su_C</span><span class="o">.</span><span class="n">m_dot</span> <span class="ow">is</span> <span class="kc">None</span><span class="p">:</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">su_C</span><span class="o">.</span><span class="n">m_dot</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">su_H</span><span class="o">.</span><span class="n">m_dot</span>            

        <span class="bp">self</span><span class="o">.</span><span class="n">check_calculable</span><span class="p">()</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">check_parametrized</span><span class="p">()</span>

        <span class="k">if</span> <span class="bp">self</span><span class="o">.</span><span class="n">su_H</span><span class="o">.</span><span class="n">T</span> <span class="o">&lt;</span> <span class="bp">self</span><span class="o">.</span><span class="n">su_C</span><span class="o">.</span><span class="n">T</span><span class="p">:</span>
            <span class="n">save</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">su_C</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">su_C</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">su_H</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">su_H</span> <span class="o">=</span> <span class="n">save</span>

        <span class="k">if</span> <span class="s1">&#39;DP_h&#39;</span> <span class="ow">in</span> <span class="bp">self</span><span class="o">.</span><span class="n">params</span><span class="p">:</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">DP_h</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">params</span><span class="p">[</span><span class="s1">&#39;DP_h&#39;</span><span class="p">]</span>
            
        <span class="k">if</span> <span class="s1">&#39;DP_c&#39;</span> <span class="ow">in</span> <span class="bp">self</span><span class="o">.</span><span class="n">params</span><span class="p">:</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">DP_c</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">params</span><span class="p">[</span><span class="s1">&#39;DP_c&#39;</span><span class="p">]</span>

        <span class="k">if</span> <span class="ow">not</span> <span class="bp">self</span><span class="o">.</span><span class="n">calculable</span><span class="p">:</span>
            <span class="nb">print</span><span class="p">(</span><span class="s2">&quot;HTX IS NOT CALCULABLE&quot;</span><span class="p">)</span>
            <span class="k">return</span>

        <span class="k">if</span> <span class="ow">not</span> <span class="bp">self</span><span class="o">.</span><span class="n">parametrized</span><span class="p">:</span>
            <span class="nb">print</span><span class="p">(</span><span class="s2">&quot;HTX IS NOT PARAMETRIZED&quot;</span><span class="p">)</span>
            <span class="k">return</span>

        <span class="bp">self</span><span class="o">.</span><span class="n">AS_H</span> <span class="o">=</span> <span class="n">CP</span><span class="o">.</span><span class="n">AbstractState</span><span class="p">(</span><span class="s1">&#39;BICUBIC&amp;HEOS&#39;</span><span class="p">,</span> <span class="bp">self</span><span class="o">.</span><span class="n">su_H</span><span class="o">.</span><span class="n">fluid</span><span class="p">)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">AS_C</span> <span class="o">=</span> <span class="n">CP</span><span class="o">.</span><span class="n">AbstractState</span><span class="p">(</span><span class="s1">&#39;BICUBIC&amp;HEOS&#39;</span><span class="p">,</span> <span class="bp">self</span><span class="o">.</span><span class="n">su_C</span><span class="o">.</span><span class="n">fluid</span><span class="p">)</span>

        <span class="k">if</span> <span class="bp">self</span><span class="o">.</span><span class="n">T_hot</span> <span class="ow">is</span> <span class="kc">None</span><span class="p">:</span>
            <span class="c1"># Allocate arrays</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">h_hot</span> <span class="o">=</span> <span class="n">np</span><span class="o">.</span><span class="n">zeros</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">params</span><span class="p">[</span><span class="s1">&#39;n_disc&#39;</span><span class="p">]</span><span class="o">+</span><span class="mi">1</span><span class="p">)</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">h_cold</span> <span class="o">=</span> <span class="n">np</span><span class="o">.</span><span class="n">zeros</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">params</span><span class="p">[</span><span class="s1">&#39;n_disc&#39;</span><span class="p">]</span><span class="o">+</span><span class="mi">1</span><span class="p">)</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">T_hot</span> <span class="o">=</span> <span class="n">np</span><span class="o">.</span><span class="n">zeros</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">params</span><span class="p">[</span><span class="s1">&#39;n_disc&#39;</span><span class="p">]</span><span class="o">+</span><span class="mi">1</span><span class="p">)</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">T_cold</span> <span class="o">=</span> <span class="n">np</span><span class="o">.</span><span class="n">zeros</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">params</span><span class="p">[</span><span class="s1">&#39;n_disc&#39;</span><span class="p">]</span><span class="o">+</span><span class="mi">1</span><span class="p">)</span>

            <span class="bp">self</span><span class="o">.</span><span class="n">p_hot</span> <span class="o">=</span> <span class="n">np</span><span class="o">.</span><span class="n">zeros</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">params</span><span class="p">[</span><span class="s1">&#39;n_disc&#39;</span><span class="p">]</span><span class="o">+</span><span class="mi">1</span><span class="p">)</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">p_cold</span> <span class="o">=</span> <span class="n">np</span><span class="o">.</span><span class="n">zeros</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">params</span><span class="p">[</span><span class="s1">&#39;n_disc&#39;</span><span class="p">]</span><span class="o">+</span><span class="mi">1</span><span class="p">)</span>
                
            <span class="c1"># Establish pressure drops </span>
            <span class="n">DP_h_disc</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">DP_h</span><span class="o">/</span><span class="bp">self</span><span class="o">.</span><span class="n">params</span><span class="p">[</span><span class="s1">&#39;n_disc&#39;</span><span class="p">]</span>
            <span class="n">DP_c_disc</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">DP_c</span><span class="o">/</span><span class="bp">self</span><span class="o">.</span><span class="n">params</span><span class="p">[</span><span class="s1">&#39;n_disc&#39;</span><span class="p">]</span>
            
            <span class="bp">self</span><span class="o">.</span><span class="n">p_hot</span><span class="p">[</span><span class="mi">0</span><span class="p">]</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">su_H</span><span class="o">.</span><span class="n">p</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">p_cold</span><span class="p">[</span><span class="mi">0</span><span class="p">]</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">su_C</span><span class="o">.</span><span class="n">p</span>
            
            <span class="k">for</span> <span class="n">i</span> <span class="ow">in</span> <span class="nb">range</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">params</span><span class="p">[</span><span class="s1">&#39;n_disc&#39;</span><span class="p">]):</span>
                <span class="bp">self</span><span class="o">.</span><span class="n">p_hot</span><span class="p">[</span><span class="n">i</span><span class="o">+</span><span class="mi">1</span><span class="p">]</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">p_hot</span><span class="p">[</span><span class="n">i</span><span class="p">]</span> <span class="o">-</span> <span class="n">DP_h_disc</span>
                <span class="bp">self</span><span class="o">.</span><span class="n">p_cold</span><span class="p">[</span><span class="n">i</span><span class="o">+</span><span class="mi">1</span><span class="p">]</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">p_cold</span><span class="p">[</span><span class="n">i</span><span class="p">]</span> <span class="o">-</span> <span class="n">DP_c_disc</span>
            
        <span class="s2">&quot;Find Q_dot_max&quot;</span>

        <span class="bp">self</span><span class="o">.</span><span class="n">DT_pinch</span> <span class="o">=</span> <span class="o">-</span><span class="mi">1</span>

        <span class="bp">self</span><span class="o">.</span><span class="n">find_Q_dot_max</span><span class="p">()</span>

        <span class="bp">self</span><span class="o">.</span><span class="n">DT_pinch</span> <span class="o">=</span> <span class="o">-</span><span class="mi">1</span>

        <span class="bp">self</span><span class="o">.</span><span class="n">epsilon</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">params</span><span class="p">[</span><span class="s1">&#39;eta_max&#39;</span><span class="p">]</span>

        <span class="k">while</span> <span class="bp">self</span><span class="o">.</span><span class="n">DT_pinch</span> <span class="o">&lt;=</span> <span class="bp">self</span><span class="o">.</span><span class="n">params</span><span class="p">[</span><span class="s1">&#39;Pinch_min&#39;</span><span class="p">]:</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">counterflow_discretized</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">epsilon</span><span class="p">)</span>

            <span class="k">if</span> <span class="bp">self</span><span class="o">.</span><span class="n">DT_pinch</span> <span class="o">&lt;=</span> <span class="bp">self</span><span class="o">.</span><span class="n">params</span><span class="p">[</span><span class="s1">&#39;Pinch_min&#39;</span><span class="p">]:</span>
                <span class="bp">self</span><span class="o">.</span><span class="n">epsilon</span> <span class="o">-=</span> <span class="mf">0.01</span>
                                
                <span class="k">if</span> <span class="bp">self</span><span class="o">.</span><span class="n">epsilon</span> <span class="o">&lt;=</span> <span class="mi">0</span><span class="p">:</span>
                    <span class="bp">self</span><span class="o">.</span><span class="n">solved</span> <span class="o">=</span> <span class="kc">False</span>
                    
                    <span class="k">if</span> <span class="bp">self</span><span class="o">.</span><span class="n">print_flag</span><span class="p">:</span>
                        <span class="nb">print</span><span class="p">(</span><span class="s2">&quot;No eta satisfies Pinch_min in HXEffCstDisc&quot;</span><span class="p">)</span>
                        
                    <span class="k">return</span>

        <span class="s2">&quot;Outlet states&quot;</span>   
        
        <span class="bp">self</span><span class="o">.</span><span class="n">update_connectors</span><span class="p">()</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">solved</span> <span class="o">=</span> <span class="kc">True</span>
        <span class="k">return</span>

    <span class="k">def</span><span class="w"> </span><span class="nf">update_connectors</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
        
        <span class="s2">&quot;Mass Connectors&quot;</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">ex_C</span><span class="o">.</span><span class="n">set_fluid</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">su_C</span><span class="o">.</span><span class="n">fluid</span><span class="p">)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">ex_C</span><span class="o">.</span><span class="n">set_m_dot</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">su_C</span><span class="o">.</span><span class="n">m_dot</span><span class="p">)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">ex_C</span><span class="o">.</span><span class="n">set_h</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">su_C</span><span class="o">.</span><span class="n">h</span> <span class="o">+</span> <span class="bp">self</span><span class="o">.</span><span class="n">Q</span><span class="o">/</span><span class="bp">self</span><span class="o">.</span><span class="n">su_C</span><span class="o">.</span><span class="n">m_dot</span><span class="p">)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">ex_C</span><span class="o">.</span><span class="n">set_p</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">p_cold</span><span class="p">[</span><span class="o">-</span><span class="mi">1</span><span class="p">])</span>
        
        <span class="bp">self</span><span class="o">.</span><span class="n">AS_C</span><span class="o">.</span><span class="n">update</span><span class="p">(</span><span class="n">CP</span><span class="o">.</span><span class="n">HmassP_INPUTS</span><span class="p">,</span> <span class="bp">self</span><span class="o">.</span><span class="n">ex_C</span><span class="o">.</span><span class="n">h</span><span class="p">,</span> <span class="bp">self</span><span class="o">.</span><span class="n">ex_C</span><span class="o">.</span><span class="n">p</span><span class="p">)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">ex_C</span><span class="o">.</span><span class="n">set_T</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">AS_C</span><span class="o">.</span><span class="n">T</span><span class="p">())</span>

        <span class="bp">self</span><span class="o">.</span><span class="n">ex_H</span><span class="o">.</span><span class="n">set_fluid</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">su_H</span><span class="o">.</span><span class="n">fluid</span><span class="p">)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">ex_H</span><span class="o">.</span><span class="n">set_m_dot</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">su_H</span><span class="o">.</span><span class="n">m_dot</span><span class="p">)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">ex_H</span><span class="o">.</span><span class="n">set_h</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">su_H</span><span class="o">.</span><span class="n">h</span> <span class="o">-</span> <span class="bp">self</span><span class="o">.</span><span class="n">Q</span><span class="o">/</span><span class="bp">self</span><span class="o">.</span><span class="n">su_H</span><span class="o">.</span><span class="n">m_dot</span><span class="p">)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">ex_H</span><span class="o">.</span><span class="n">set_p</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">p_hot</span><span class="p">[</span><span class="o">-</span><span class="mi">1</span><span class="p">])</span>
        
        <span class="bp">self</span><span class="o">.</span><span class="n">AS_H</span><span class="o">.</span><span class="n">update</span><span class="p">(</span><span class="n">CP</span><span class="o">.</span><span class="n">HmassP_INPUTS</span><span class="p">,</span> <span class="bp">self</span><span class="o">.</span><span class="n">ex_H</span><span class="o">.</span><span class="n">h</span><span class="p">,</span> <span class="bp">self</span><span class="o">.</span><span class="n">ex_H</span><span class="o">.</span><span class="n">p</span><span class="p">)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">ex_H</span><span class="o">.</span><span class="n">set_T</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">AS_H</span><span class="o">.</span><span class="n">T</span><span class="p">())</span>
        
        <span class="s2">&quot;Heat conector&quot;</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">Q_dot</span><span class="o">.</span><span class="n">set_Q_dot</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">Q</span><span class="p">)</span>

        <span class="k">return</span>

    <span class="k">def</span><span class="w"> </span><span class="nf">print_results</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
        <span class="nb">print</span><span class="p">(</span><span class="s2">&quot;=== Heat Exchanger Results ===&quot;</span><span class="p">)</span>
        <span class="nb">print</span><span class="p">(</span><span class="sa">f</span><span class="s2">&quot;Q: </span><span class="si">{</span><span class="bp">self</span><span class="o">.</span><span class="n">Q_dot</span><span class="o">.</span><span class="n">Q_dot</span><span class="si">}</span><span class="s2">&quot;</span><span class="p">)</span>
        <span class="nb">print</span><span class="p">(</span><span class="s2">&quot;======================&quot;</span><span class="p">)</span>

    <span class="k">def</span><span class="w"> </span><span class="nf">print_states_connectors</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
        <span class="nb">print</span><span class="p">(</span><span class="s2">&quot;=== Heat Exchanger States ===&quot;</span><span class="p">)</span>
        <span class="nb">print</span><span class="p">(</span><span class="s2">&quot;Connectors:&quot;</span><span class="p">)</span>
        <span class="nb">print</span><span class="p">(</span><span class="sa">f</span><span class="s2">&quot;  - su_C: fluid=</span><span class="si">{</span><span class="bp">self</span><span class="o">.</span><span class="n">su_C</span><span class="o">.</span><span class="n">fluid</span><span class="si">}</span><span class="s2">, T=</span><span class="si">{</span><span class="bp">self</span><span class="o">.</span><span class="n">su_C</span><span class="o">.</span><span class="n">T</span><span class="si">}</span><span class="s2">, p=</span><span class="si">{</span><span class="bp">self</span><span class="o">.</span><span class="n">su_C</span><span class="o">.</span><span class="n">p</span><span class="si">}</span><span class="s2">, m_dot=</span><span class="si">{</span><span class="bp">self</span><span class="o">.</span><span class="n">su_C</span><span class="o">.</span><span class="n">m_dot</span><span class="si">}</span><span class="s2">&quot;</span><span class="p">)</span>
        <span class="nb">print</span><span class="p">(</span><span class="sa">f</span><span class="s2">&quot;  - su_H: fluid=</span><span class="si">{</span><span class="bp">self</span><span class="o">.</span><span class="n">su_H</span><span class="o">.</span><span class="n">fluid</span><span class="si">}</span><span class="s2">, T=</span><span class="si">{</span><span class="bp">self</span><span class="o">.</span><span class="n">su_H</span><span class="o">.</span><span class="n">T</span><span class="si">}</span><span class="s2">, p=</span><span class="si">{</span><span class="bp">self</span><span class="o">.</span><span class="n">su_H</span><span class="o">.</span><span class="n">p</span><span class="si">}</span><span class="s2">, m_dot=</span><span class="si">{</span><span class="bp">self</span><span class="o">.</span><span class="n">su_H</span><span class="o">.</span><span class="n">m_dot</span><span class="si">}</span><span class="s2">&quot;</span><span class="p">)</span>
        <span class="nb">print</span><span class="p">(</span><span class="sa">f</span><span class="s2">&quot;  - ex_C: fluid=</span><span class="si">{</span><span class="bp">self</span><span class="o">.</span><span class="n">ex_C</span><span class="o">.</span><span class="n">fluid</span><span class="si">}</span><span class="s2">, T=</span><span class="si">{</span><span class="bp">self</span><span class="o">.</span><span class="n">ex_C</span><span class="o">.</span><span class="n">T</span><span class="si">}</span><span class="s2">, p=</span><span class="si">{</span><span class="bp">self</span><span class="o">.</span><span class="n">ex_C</span><span class="o">.</span><span class="n">p</span><span class="si">}</span><span class="s2">, m_dot=</span><span class="si">{</span><span class="bp">self</span><span class="o">.</span><span class="n">ex_C</span><span class="o">.</span><span class="n">m_dot</span><span class="si">}</span><span class="s2">&quot;</span><span class="p">)</span>
        <span class="nb">print</span><span class="p">(</span><span class="sa">f</span><span class="s2">&quot;  - ex_H: fluid=</span><span class="si">{</span><span class="bp">self</span><span class="o">.</span><span class="n">ex_H</span><span class="o">.</span><span class="n">fluid</span><span class="si">}</span><span class="s2">, T=</span><span class="si">{</span><span class="bp">self</span><span class="o">.</span><span class="n">ex_H</span><span class="o">.</span><span class="n">T</span><span class="si">}</span><span class="s2">, p=</span><span class="si">{</span><span class="bp">self</span><span class="o">.</span><span class="n">ex_H</span><span class="o">.</span><span class="n">p</span><span class="si">}</span><span class="s2">, m_dot=</span><span class="si">{</span><span class="bp">self</span><span class="o">.</span><span class="n">ex_H</span><span class="o">.</span><span class="n">m_dot</span><span class="si">}</span><span class="s2">&quot;</span><span class="p">)</span>
        <span class="nb">print</span><span class="p">(</span><span class="sa">f</span><span class="s2">&quot;  - Q_dot: </span><span class="si">{</span><span class="bp">self</span><span class="o">.</span><span class="n">Q_dot</span><span class="o">.</span><span class="n">Q_dot</span><span class="si">}</span><span class="s2">&quot;</span><span class="p">)</span>
        <span class="nb">print</span><span class="p">(</span><span class="s2">&quot;======================&quot;</span><span class="p">)</span>

    <span class="k">def</span><span class="w"> </span><span class="nf">plot_disc</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
        <span class="kn">import</span><span class="w"> </span><span class="nn">matplotlib.pyplot</span><span class="w"> </span><span class="k">as</span><span class="w"> </span><span class="nn">plt</span>

        <span class="n">x</span> <span class="o">=</span> <span class="n">np</span><span class="o">.</span><span class="n">arange</span><span class="p">(</span><span class="nb">len</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">T_hot</span><span class="p">))</span>
        <span class="n">plt</span><span class="o">.</span><span class="n">plot</span><span class="p">(</span><span class="n">x</span><span class="p">,</span> <span class="bp">self</span><span class="o">.</span><span class="n">T_hot</span><span class="p">,</span> <span class="n">label</span><span class="o">=</span><span class="s1">&#39;Hot Fluid [°C]&#39;</span><span class="p">,</span> <span class="n">marker</span><span class="o">=</span><span class="s1">&#39;o&#39;</span><span class="p">)</span>
        <span class="n">plt</span><span class="o">.</span><span class="n">plot</span><span class="p">(</span><span class="n">x</span><span class="p">,</span> <span class="bp">self</span><span class="o">.</span><span class="n">T_cold</span><span class="p">,</span> <span class="n">label</span><span class="o">=</span><span class="s1">&#39;Cold Fluid [°C]&#39;</span><span class="p">,</span> <span class="n">marker</span><span class="o">=</span><span class="s1">&#39;s&#39;</span><span class="p">)</span>
        <span class="n">plt</span><span class="o">.</span><span class="n">xlabel</span><span class="p">(</span><span class="s1">&#39;Discretization&#39;</span><span class="p">)</span>
        <span class="n">plt</span><span class="o">.</span><span class="n">ylabel</span><span class="p">(</span><span class="s1">&#39;Temperature [°C]&#39;</span><span class="p">)</span>
        <span class="n">plt</span><span class="o">.</span><span class="n">title</span><span class="p">(</span><span class="s1">&#39;Counterflow Heat Exchanger Temperature Profiles&#39;</span><span class="p">)</span>
        <span class="n">plt</span><span class="o">.</span><span class="n">grid</span><span class="p">(</span><span class="kc">True</span><span class="p">)</span>
        <span class="n">plt</span><span class="o">.</span><span class="n">legend</span><span class="p">()</span>
        <span class="n">plt</span><span class="o">.</span><span class="n">tight_layout</span><span class="p">()</span>
        <span class="n">plt</span><span class="o">.</span><span class="n">show</span><span class="p">()</span>
        <span class="k">return</span></div>




</pre></div>
        </article>
      </div>
      <footer>
        
        <div class="related-pages">
          
          
        </div>
        <div class="bottom-of-page">
          <div class="left-details">
            <div class="copyright">
                Copyright &#169; 2024, Basile Chaudoir, Elise Neven
            </div>
            Made with <a href="https://www.sphinx-doc.org/">Sphinx</a> and <a class="muted-link" href="https://pradyunsg.me">@pradyunsg</a>'s
            
            <a href="https://github.com/pradyunsg/furo">Furo</a>
            
          </div>
          <div class="right-details">
            
          </div>
        </div>
        
      </footer>
    </div>
    <aside class="toc-drawer no-toc">
      
      
      
    </aside>
  </div>
</div><script src="../../../_static/documentation_options.js?v=f2a433a1"></script>
    <script src="../../../_static/doctools.js?v=9bcbadda"></script>
    <script src="../../../_static/sphinx_highlight.js?v=dc90522c"></script>
    <script src="../../../_static/scripts/furo.js?v=46bd48cc"></script>
    <script crossorigin="anonymous" integrity="sha256-Ae2Vz/4ePdIu6ZyI/5ZGsYnb+m0JlOmKPjt6XZ9JJkA=" src="https://cdnjs.cloudflare.com/ajax/libs/require.js/2.3.4/require.min.js"></script>
    </body>
</html>